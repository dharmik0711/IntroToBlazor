@page "/todo"
@rendermode InteractiveServer

<PageTitle>Todo</PageTitle>

<h3>Todo (@todos.Count(todo => !todo.IsDone))</h3>

<div class="d-flex align-items-center mb-3">
    <input type="text" placeholder="Something to do..." @bind="newTodo"
           class="form-control me-2" style="max-width: 400px;" />
    <button Class="btn btn-primary"
            @onclick="AddTodo">
        Add todoS
    </button>
</div>

<ul class="list-unstyled">
    @foreach (var todo in todos)
    {
        <li>
            <input type="checkbox" @bind="todo.IsDone" />
            <input type="text" @bind="todo.Title" />
        </li>
    }
</ul>

@code {
    private List<Todoitem> todos = new();
    private string newTodo = "";

    private void AddTodo()
    {
        if (!string.IsNullOrWhiteSpace(newTodo))
        {
            Todoitem todo = new();
            todo.Title = newTodo;
            todos.Add(todo);

            newTodo = "";
        }
    }
}